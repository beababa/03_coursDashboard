---
title: "surface"
author: "B. Maranget"
date: "28/09/2020"
output: 
  html_document: 
    number_sections: yes
    toc: yes
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Objet

Simplifier fond de carte

# Librairies et répertoire

```{r}
library(sf)
library(cartography)
```

# Données

```{r}
dpt <- st_read("../dataE/00_ADMIN/DEPARTEMENT.shp", stringsAsFactors = F)
fr <-  st_read("../dataE/00_ADMIN/France_l93_continent4_buf2.shp")

```

## Fonction st_simplify

```{r}
png("img/tol10.png")
res <- st_simplify(dpt, preserveTopology = FALSE, dTolerance = 10)
plot(res$geometry, main = 10)
dev.off()


simplifier <- function (tol) {
  st_simplify(dpt, preserveTopology = FALSE, dTolerance = tol)
  png(paste0("img/tol",tol,".png"))
  plot(res$geometry, main = tol)
  dev.off}

simplifier( 100)

v <- seq(0,10000, 1000)


lapply(v, simplifier)

```

